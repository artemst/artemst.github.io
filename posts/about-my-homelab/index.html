<!DOCTYPE html><html lang="ru-RU"> <head prefix="og: http://ogp.me/ns#"><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v3.6.5"><title>System Out • Зачем я завёл себе домашний сервер</title><meta name="description" content="В этой статье я рассказываю зачем решил завести себе сервер дома, какие приложения на нём можно развернуть и что нужно для минимального старта. Осторожно! После прочтения может тоже захотеться себе домашний сервер!"><link rel="canonical" href="https://systemout.blog/posts/about-my-homelab/"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="sitemap" href="/sitemap-index.xml"><meta property="telegram:channel" content="@SystemOutBlog"><meta property="og:site_name" content="SystemOut.blog"><meta property="og:title" content="Зачем я завёл себе домашний сервер"><meta property="og:description" content="В этой статье я рассказываю зачем решил завести себе сервер дома, какие приложения на нём можно развернуть и что нужно для минимального старта. Осторожно! После прочтения может тоже захотеться себе домашний сервер!"><meta property="og:type" content="website"><meta property="og:image" content="https://systemout.blog/_astro/04-1-my-homelab-title.fc6a860b.jpg">
            <meta name="twitter:image" content="https://systemout.blog/_astro/04-1-my-homelab-title.fc6a860b.jpg">
            <meta name="twitter:card" content="summary_large_image"><!-- Yandex.Metrika counter -->
            <script type="text/javascript">
               (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
               m[i].l=1*new Date();
               for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
               k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
               (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

               ym(96019340, "init", {
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
               });
            </script>
            <noscript><div><img src="https://mc.yandex.ru/watch/96019340" style="position:absolute; left:-9999px;" alt=""></div></noscript>
            <!-- /Yandex.Metrika counter --><link rel="stylesheet" href="/_astro/about.f1b67427.css" /><script type="module">const t="max-lg:hidden",e=document.querySelector("#menuBarButton"),n=document.querySelector("#menuBarNav");e!==void 0&&e&&n!==void 0&&n&&(console.log("Add menuBarButton click handler"),e.addEventListener("click",()=>{n.classList.toggle(t)}));
</script>
<script type="module" src="/_astro/page.30c903a1.js"></script></head> <body class="bg-stone-100"> <div class="md:container md:mx-auto xl:max-w-screen-xl"> <header class="bg-sidebar-main text-white
        lg:fixed lg:flex lg:h-full
        lg:max-h-screen lg:min-h-screen
        lg:w-64 lg:flex-col lg:overflow-y-auto
        lg:text-center lg:scrollbar-hide xl:w-72"> <div class="h-24
        max-lg:flex sm:px-4
        lg:h-auto"> <div class="h-full
                w-24 bg-logo bg-contain bg-left
                bg-no-repeat max-lg:ml-2
                max-[289px]:hidden xs:w-28 md:w-32
                lg:mt-6 lg:h-40 lg:w-full lg:bg-center xl:mt-8"></div> <div class="grow self-center max-lg:ml-12 max-lg:mr-6 max-sm:ml-4"> <div class="font-sans text-2xl
                    font-bold drop-shadow-lg max-lg:tracking-wide sm:text-3xl md:text-[2rem] lg:pt-6
                    xl:pt-8 xl:text-[2.1rem] xl:tracking-wide"> <a href="/" class="text-white no-underline
                        lg:before:content-['•'] lg:after:content-['•']">
System&nbsp;Out
</a> </div> <div class="pt-1
                    text-xs tracking-wide
                    text-gray-100
                    drop-shadow-md max-xs:hidden lg:mt-4
                    lg:text-sm lg:leading-tight xl:text-[0.95rem]">
Yet another dev blog
</div> </div> <button id="menuBarButton" type="button" title="Меню" class="self-center rounded-md border border-gray-400
                    max-sm:mr-4 sm:mr-1 lg:hidden"> <svg class="m-2 w-6 text-stone-200 drop-shadow-md" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M3 18v-2h18v2Zm0-5v-2h18v2Zm0-5V6h18v2Z"></path></svg> </button> </div> <div id="menuBarNav" class="pt-4 max-lg:hidden lg:my-16"> <nav class="text-center
                text-lg tracking-wide
                drop-shadow-lg lg:text-[1.35rem]"> <ul class="list-none pl-0 decoration-1 underline-offset-4
                    [&>*]:pb-2 [&>*]:lg:pb-3 [&>li>*]:text-white"> <li> <a class="text-white" href="/" rel="prefetch">Главная</a> </li> <li><a href="/posts/" rel="prefetch">Cтатьи</a></li> <li><a href="/about/">Обо мне</a></li> </ul> </nav> <div class="mt-6 flex justify-center py-4 drop-shadow-md
                lg:mt-20 [&>*]:mx-3 [&>*]:w-6
                [&>*]:text-white [&>*]:lg:w-7"> <!--            <a href="#" title="GitHub: <name>" target="_blank">--> <!--                <GitHubIcon class="hover:scale-150"></GitHubIcon>--> <!--            </a>--> <!--
            <a
                href="https://mastodon.world/@systemout"
                title="Mastodon: @systemout"
            >
                <MastodonIcon class="hover:scale-150" />
            </a>
            --> <a href="mailto:artemst88@yandex.ru" class="font-bold" title="Email me" target="_blank"> <svg class="hover:scale-150" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.608 12.172c0 .84.239 1.175.864 1.175c1.393 0 2.28-1.775 2.28-4.727c0-4.512-3.288-6.672-7.393-6.672c-4.223 0-8.064 2.832-8.064 8.184c0 5.112 3.36 7.896 8.52 7.896c1.752 0 2.928-.192 4.727-.792l.386 1.607c-1.776.577-3.674.744-5.137.744c-6.768 0-10.393-3.72-10.393-9.456c0-5.784 4.201-9.72 9.985-9.72c6.024 0 9.215 3.6 9.215 8.016c0 3.744-1.175 6.6-4.871 6.6c-1.681 0-2.784-.672-2.928-2.161c-.432 1.656-1.584 2.161-3.145 2.161c-2.088 0-3.84-1.609-3.84-4.848c0-3.264 1.537-5.28 4.297-5.28c1.464 0 2.376.576 2.782 1.488l.697-1.272h2.016v7.057h.002zm-2.951-3.168c0-1.319-.985-1.872-1.801-1.872c-.888 0-1.871.719-1.871 2.832c0 1.68.744 2.616 1.871 2.616c.792 0 1.801-.504 1.801-1.896v-1.68z"></path></svg> </a> <a href="https://t.me/SystemOutBlog" title="Подписывайся на Telegram: SystemOutBlog" target="_blank"> <svg class="hover:scale-150" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"></path></svg> </a> <a href="/rss.xml" title="RSS Feed: System Out Blog" target="_blank"> <svg class="hover:scale-150" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M5 21q-.825 0-1.413-.587Q3 19.825 3 19q0-.825.587-1.413Q4.175 17 5 17q.825 0 1.412.587Q7 18.175 7 19q0 .825-.588 1.413Q5.825 21 5 21Zm12 0q0-2.9-1.1-5.438q-1.1-2.537-3.012-4.45Q10.975 9.2 8.438 8.1Q5.9 7 3 7V4q3.525 0 6.625 1.338q3.1 1.337 5.4 3.637q2.3 2.3 3.638 5.4Q20 17.475 20 21Zm-6 0q0-3.325-2.338-5.662Q6.325 13 3 13v-3q2.3 0 4.3.863q2 .862 3.488 2.349q1.487 1.488 2.349 3.488Q14 18.7 14 21Z"></path></svg> </a> </div> </div> <div class="mb-8 flex h-full flex-col justify-end max-lg:hidden"> <a href="https://www.vecteezy.com/free-vector/free" class="text-xs text-stone-200" target="_blank">
Free Vectors by Vecteezy
</a> <p class="mt-2 text-center text-sm text-stone-100 drop-shadow-md">
&#169; 2024 System Out
</p> </div> </header>  <main class="bg-white w-full
                    lg:min-h-screen lg:block lg:pl-64 xl:pl-72"> <section class="max-lg:min-h-[85vh]
					px-4 sm:px-6 md:px-10 lg:px-12
					pt-6 lg:pt-10
					pb-14">  <article> <div class="flex items-center place-content-between"> <div class="inline-flex flex-shrink-0 mr-6"> <svg class="inline w-5 text-zinc-500 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect width="416" height="384" x="48" y="80" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M128 48v32m256-32v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path></svg> <span class="xs:hidden pt-1 text-sm text-zinc-500 ml-1"> 29.03.24 </span> <span class="max-xs:hidden pt-1 text-sm text-zinc-500 ml-1"> 29 марта 2024 г. </span> </div> <a class="mr-3 text-sm text-zinc-600 no-underline" id="go-back" href="#">
⇦&nbsp;Назад
</a> <script lang="ts">
    document
        .getElementById('go-back')
        .addEventListener('click', () => window.history.back());
</script> </div> <h1 class="text-balance">Зачем я завёл себе домашний сервер</h1> <div class="mb-4 text-base"><a class="mb-1 mr-3 inline-block rounded-md border-solid border-header-blue bg-header-blue/10 pl-2 pr-3 text-sidebar-main no-underline hover:bg-header-blue/20" href="/tags/homelab/"><svg class="mr-2 inline w-4 text-sidebar-main" xmlns="http://www.w3.org/2000/svg" style="vertical-align: -0.2em;" viewBox="0 0 24 24"><path fill="currentColor" d="M19.75 2A2.25 2.25 0 0 1 22 4.25v5.462a3.25 3.25 0 0 1-.952 2.298l-8.5 8.503a3.255 3.255 0 0 1-4.597.001L3.489 16.06a3.25 3.25 0 0 1-.004-4.596l8.5-8.51a3.25 3.25 0 0 1 2.3-.953h5.465Zm0 1.5h-5.466c-.464 0-.91.185-1.238.513l-8.512 8.523a1.75 1.75 0 0 0 .015 2.462l4.461 4.454a1.755 1.755 0 0 0 2.477 0l8.5-8.503a1.75 1.75 0 0 0 .513-1.237V4.25a.75.75 0 0 0-.75-.75ZM17 5.502a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3Z"></path></svg> homelab  </a><a class="mb-1 mr-3 inline-block rounded-md border-solid border-header-blue bg-header-blue/10 pl-2 pr-3 text-sidebar-main no-underline hover:bg-header-blue/20" href="/tags/selfhosted/"><svg class="mr-2 inline w-4 text-sidebar-main" xmlns="http://www.w3.org/2000/svg" style="vertical-align: -0.2em;" viewBox="0 0 24 24"><path fill="currentColor" d="M19.75 2A2.25 2.25 0 0 1 22 4.25v5.462a3.25 3.25 0 0 1-.952 2.298l-8.5 8.503a3.255 3.255 0 0 1-4.597.001L3.489 16.06a3.25 3.25 0 0 1-.004-4.596l8.5-8.51a3.25 3.25 0 0 1 2.3-.953h5.465Zm0 1.5h-5.466c-.464 0-.91.185-1.238.513l-8.512 8.523a1.75 1.75 0 0 0 .015 2.462l4.461 4.454a1.755 1.755 0 0 0 2.477 0l8.5-8.503a1.75 1.75 0 0 0 .513-1.237V4.25a.75.75 0 0 0-.75-.75ZM17 5.502a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3Z"></path></svg> selfhosted  </a></div>  <div class="pt-4 pb-2"> <img src="/_astro/04-1-my-homelab-title.fc6a860b_9v9wX.webp" class="w-full h-full" alt="Homelab" width="1920" height="1280" loading="lazy" decoding="async"> </div>  <p>Когда я учился в институте, то думал, что стану системным администратором.<br>
Мне было интересно изучать различные операционные системы: после занятий ходил на курсы от Microsoft Academy по администрированию Windows Server, а по ночам возился с Fedora Core на виртуалке или устанавливал KDE на FreeBSD.<br>
Также я подрабатывал “эникейщиком” по вызову, помогая людям переустанавливать Windows или настраивать принтеры и антивирусы.</p>
<p>В какой-то момент судьба сделала поворот, и в итоге я стал разработчиком.<br>
Но желание поковыряться в операционках или в каких-нибудь компьютерных железках хоть и притихло, но никуда не ушло.</p>
<p>Четыре года назад, когда всех посадили на карантин, и появилось больше свободного времени, я решил купить себе одноплатный компьютер Raspberry Pi, о котором давно мечтал.<br>
Я абсолютно не представлял зачем мне “малинка” и что я буду с ней делать, но очень хотелось покрутить сей девайс в руках и что-нибудь с ним придумать.<br>
В итоге чего-то вразумительного придумать так и не удалось, поэтому “малинка” была отложена в дальний ящик.</p>
<p>Спустя где-то год я случайно наткнулся на видео в YouTube, где автор рассказывал про настоящий сервер у себя в подвале, на котором он развернул различные приложения для собственного пользования. Его пример мне так понравился, что я решил углубиться в эту тему.<br>
Raspberry Pi была извлечена из дальнего ящика и подвешена под потолок рядом с роутером. Так у меня появился домашний “сервер”.</p>
<h3 id="homelab-что-это-и-зачем">Homelab: что это и зачем?</h3>
<p>Cловом Homelab (Home Laboratory или домашняя лаборатория) обычно называют одно или несколько физических устройств, которые располагаются дома и используются в качестве домашнего сервера. При этом слово “лаборатория” намекает на то, что обычно это нужно для обучения или исследования каких-то новых для себя технологий.</p>
<p>А изучать можно много чего, особенно если работа с серверами и системное администрирование не входит в сферу вашей профессиональной деятельности: проектирование сетей, сетевое оборудование, установка и администрирование операционных систем, виртуализация, работа с контейнерами, Kubernetes, развёртывание, мониторинг и бэкапирование приложений, DevOps, GitOps и многое, многое, многое другое.</p>
<p>Но только изучением всё не ограничивается.<br>
Вместе с homelab частенько можно встретить слово “selfhosted”. Я бы сказал, что это целое движение, приверженцы которого вместо использования сторонних облачных сервисов стараются развернуть альтернативные варианты на своих серверах.<br>
Причины для этого могут быть разные:</p>
<ul>
<li>недоверие корпорациям, которые собирают о вас информации больше, чем нужно;</li>
<li>нежелание отдавать чувствительную информацию (например, пароли) в руки сторонних сервисов (например, облачным менеджерам паролей);</li>
<li>желание сэкономить, т.к. стоимость содержания домашнего сервера, на котором может быть развёрнуто сразу несколько приложений, бывает меньше, чем суммарная стоимость подписок на коммерческие сервисы.</li>
</ul>
<p>Да и в целом от этого веет каким-то духом старых времён, когда не было всяких gmail-ов и dropbox-ов, а увлечённые люди сами для себя устанавливали почтовые сервера и держали ftp-хранилища в домовых сетях с исключительно лицензионным контентом  🙂.<br>
Поэтому не всегда можно выделить какие-то рациональные причины, почему кто-то начинает самостоятельно хостить те или иные сервисы для себя и/или для своих друзей. Просто потому что хочется, потому что нравится, потому что может.</p>
<p>И если вы заведёте дома сервер, то обязательно найдёте что-нибудь для себя полезное, что можно будет на него задеплоить.</p>
<p>На сегодняшний день у меня развёрнуты:</p>
<ul>
<li>
<p><a href="https://github.com/pi-hole/pi-hole" rel="nofollow noreferer noopener" target="_blank">Pi-Hole</a> – DNS сервер, фильтрующий рекламу.<br>
С этого приложения у меня всё и началось.<br>
Знакомые многим блокировщики рекламы устанавливаются в браузер. Работают они по принципу анализа загруженного html + js кода, вырезая из страницы рекламу и трекеры.<br>
<span class="line-gap">Pi-Hole (и его аналоги) устроен немного иначе. Обычно реклама загружается с определённых доменов или поддоменов. Люди собирают списки с такими адресами, чтобы можно было добавить их в Pi-Hole для блокирования.<br>
Работает это всё следующим образом: прописываешь на своём устройстве адрес сервера с Pi-Hole в качестве DNS сервера для интернет-соединения (например, для домашнего Wi-Fi), далее заходишь на какой-нибудь сайт, где скрипт рекламы подгружает рекламу с определённого домена. Устройство запрашивает у DNS сервера IP-адрес для этого домена, а в ответ получает localhost вместо реального IP, так как этот домен находится в списке для блокировки. В итоге никакой контент с рекламой не загружается и плагину в браузере вырезать нечего.<br>
Загружаешь меньше – страницы грузятся быстрее и появляется ощущение, что интернет работает чуточку быстрее. Учитывая, как некоторые сайты любят напихать себе побольше баннеров и всяческих трекинг-сервисов, порой увеличение скорости загрузки заметно невооруженным глазом.<br>
Вдобавок, раз это полноценный DNS сервер, то в него можно прописывать доменные имена на другие домашние сервисы и не заморачиваться с запоминанием IP адресов.<br>
<span class="line-gap">Сейчас я перехожу с Pi-Hole на <a href="https://github.com/AdguardTeam/AdGuardHome" rel="nofollow noreferer noopener" target="_blank">AdGuard Home</a>, который делает примерно всё то же самое, но обладает некоторыми <a href="https://github.com/AdguardTeam/AdGuardHome?tab=readme-ov-file#comparison-pi-hole" rel="nofollow noreferer noopener" target="_blank">дополнительными возможностями</a>.</span></span></p>
</li>
<li>
<p><a href="https://github.com/Rongronggg9/RSS-to-Telegram-Bot" rel="nofollow noreferer noopener" target="_blank">RSS to Telegram Bot</a> – Телеграм бот для отслеживания обновлений в RSS каналах и отправки уведомлений.<br>
Как-то не прижились у меня программы RSS-аггрегаторы. Одни закрываются, другие становятся платными, третьи зарастают ненужными функциональностями. Периодически приходится менять программу, устанавливать её на все устройства, привыкать к новому интерфейсу. Надоело.<br>
<span class="line-gap">Телеграм же у меня всегда под рукой. Регистрируешь бота, разворачиваешь у себя серверную часть, скармливаешь боту список своих подписок и вуаля – все нотификации приходят в единый и удобный для меня канал.<br>
Таким образом я отслеживаю не только блоги или какие-нибудь хабы на хабре, но и интересные YouTube каналы, на которые тоже можно получить RSS фид. Больше не нужно переживать, что пропустишь что-то интересное из-за того, что официальный YouTube клиент решит подсунуть в ленту бесполезные рекомендации вместо новых видео с твоих подписок.</span></p>
</li>
<li>
<p><a href="https://github.com/go-gitea/gitea" rel="nofollow noreferer noopener" target="_blank">Gitea</a> – selfhosted аналог GitHub.<br>
Я очень люблю Git (и GitHub) и стараюсь использовать его везде, где только можно.<br>
Так, например, помимо проектных репозиториев я храню в GitHub свои заметки в markdown формате, которые делаю в программе Obsidian. И скрипты для развёртывания приложений на домашнем сервере я храню в GitHub. Там же лежат всякие скрипты и настройки для моего компьютера и ноутбука.<br>
А чтобы не переживать, что в какой-нибудь злосчастный день GitHub может заблокировать доступ к моим данным, я настроил синхронизацию репозиториев GitHub на свой сервер с Gitea.<br>
<span class="line-gap">Ещё в Gitea есть встроенный docker registry, куда можно заливать контейнеры со своими наработками. Вдобавок недавно Gitea выкатили поддержку GitHub Actions, и я использую этот сервер теперь не только для хранения данных, но и для своих devops пайплайнов. А так как в GitHub я тоже использую Actions, то не пришлось изучать новый инструмент и новый синтаксис.<br>
<span class="line-gap">К примеру, именно так я тестирую этот блог. Когда я добавляю новую фичу или статью, то сначала заливаю код в Gitea в определённую ветку. В этой ветке настроен пайплайн, который запускает генерацию сайта, заворачивает полученный дистрибутив в docker контейнер, пушит контейнер в docker registry и дёргает скрипт передеплоя на другом сервере, где делается pull новой версии контейнера и перезапуск docker-compose.<br>
Проверив на домашнем сервере новую версию блога, я делаю пуш в GitHub,  где запускается другой пайплайн, который собирает дистрибутив сайта и выкладывает его в GitHub Pages.<br>
<span class="line-gap">Если бы потребовалось выбирать, я бы назвал Gitea своим самым любимым сервисом на домашнем сервере.</span></span></span></p>
</li>
<li>
<p><a href="https://github.com/sissbruecker/linkding" rel="nofollow noreferer noopener" target="_blank">linkding</a> – минималистичный менеджер закладок.<br>
Так вышло, что на разных устройствах в сумме я пользуюсь тремя разными браузерами (не спрашивайте), поэтому браузерные закладки мне не подходят. Не скажу, что linkding меня устраивает на 100%, но это пока лучшее из всего, что я пробовал.<br>
Хочу ещё пощупать <a href="https://github.com/go-shiori/shiori" rel="nofollow noreferer noopener" target="_blank">shiori</a> в качестве “read-it-later” сервиса наподобие Pocket. Но пока руки не дошли.</p>
</li>
<li>
<p><a href="https://github.com/NginxProxyManager/nginx-proxy-manager" rel="nofollow noreferer noopener" target="_blank">Nginx Proxy Manager</a> – proxy, с помощью которого я настроил доменные имена и https доступ к своим домашним сервисам.<br>
Хороший мануал можно посмотреть <a href="https://www.youtube.com/watch?v=qlcVx-k-02E" rel="nofollow noreferer noopener" target="_blank">тут</a>. Для работы docker registry в Gitea https обязателен, в остальном в рамках домашней сети можно было бы обойтись и без него.<br>
Хочу когда-нибудь переехать с него на <a href="https://github.com/traefik/traefik" rel="nofollow noreferer noopener" target="_blank">Traefik</a>, который хранит конфигурацию не в БД, а в конфиг-файлах, чтобы положить их в git.</p>
</li>
<li>
<p><a href="https://github.com/louislam/uptime-kuma" rel="nofollow noreferer noopener" target="_blank">Uptime Kuma</a> – простенький сервис для мониторинга доступности других сервисов.<br>
Планирую переехать на <a href="https://github.com/TwiN/gatus" rel="nofollow noreferer noopener" target="_blank">Gatus</a>, чтобы тоже можно было хранить конфиги в файлах в git.</p>
</li>
<li>
<p><a href="https://github.com/bastienwirtz/homer" rel="nofollow noreferer noopener" target="_blank">Homer</a> – дэшборд со ссылками на домашние сервисы.<br>
Начинал с <a href="https://github.com/linuxserver/Heimdall" rel="nofollow noreferer noopener" target="_blank">Heimdall</a>, перешёл на Homer тоже из-за хранения конфигов в файлах вместо БД. Сейчас собираюсь мигрировать в <a href="https://github.com/gethomepage/homepage" rel="nofollow noreferer noopener" target="_blank">homepage</a>, т.к. там возможностей побольше.</p>
</li>
<li>
<p><a href="https://github.com/jellyfin/jellyfin" rel="nofollow noreferer noopener" target="_blank">Jellyfin</a> – медиа центр по типу какого-нибудь Кинопоиска для локального хранилища с медиа файлами.</p>
</li>
</ul>
<p>Из основного – пока всё.<br>
Ещё есть несколько видов СУБД для локальной разработки и некоторые свои пет-проекты.</p>
<p>Как можно заметить, selfhosting – это непрекращающийся процесс каких-то изменений, улучшений, миграций с одних сервисов на другие. Ты узнаёшь что-то новое, хочешь реализовать изученное у себя на сервере, меняешь деплоймент, переходишь с одних сервисов на другие, добавляешь новые.</p>
<p>Существует огромная подборка selfhosted сервисов <a href="https://github.com/awesome-selfhosted/awesome-selfhosted" rel="nofollow noreferer noopener" target="_blank">на GitHub</a>. Советую почитать хотя бы по диагонали. Иногда даже в голову не приходит, что тебе нужен какой-то сервис. А потом натыкаешься на него в такой подборке и дальше жить без него не можешь 🙂.</p>
<h3 id="с-чего-начать">С чего начать?</h3>
<p>Универсального ответа на этот вопрос, конечно же, нет, так как у всех разный начальный уровень знаний.<br>
Но для старта точно не требуется каких-то больших вложений.</p>
<p>Как уже писал, я начинал с одного Raspberry Pi, на котором поместилась б<strong><em>о</em></strong>льшая часть приложений из списка выше. Прекрасно подойдёт старый компьютер или старый ноутбук. Видел как умельцы приспосабливают даже старый телефон на Android под какие-то серверные приложения. Но новичкам такое бы не посоветовал.</p>
<p>Если желание что-то изучать есть, а подходящей железки под рукой нет, можно найти дешёвый облачный сервер или просто развернуть виртуальную машину на локальном компьютере.<br>
А дальше шаг за шагом изучайте то, чего не знаете.</p>
<p>Никогда не работали с Linux? Найдите в интернете мануал как установить какой-нибудь серверный Linux-дистрибутив и развернуть на нём простейший http сервер.<br>
Не знаете ничего про docker? Обязательно установите его на свой сервер и разверните парочку приложений в контейнерах. В интернете найдётся не одна инструкция и по докеру в целом, и по развёртыванию каких-нибудь конкретных приложений в контейнерах.<br>
Хочется разобраться с Kubernetes? <a href="https://rpi4cluster.com/k3s/k3s-kube-setting/" rel="nofollow noreferer noopener" target="_blank">Вот сайт</a> с серией статей про установку k3s (облегчённый дистрибутив кубера) на несколько Raspberry PI.<br>
Я разворачивал у себя на двух “малинках” – всё получилось. Возможно, когда-нибудь вернусь к Kubernetes на своих серверах.</p>
<p>Сейчас в открытом доступе достаточно информации, чтобы научиться практически чему угодно, было бы желание.<br>
Например, по этой теме я черпаю информацию (и вдохновение) в основном из трёх источников:</p>
<ul>
<li>
<p>YouTube канал <a href="https://www.youtube.com/@TechnoTim/videos" rel="nofollow noreferer noopener" target="_blank">TechnoTim</a><br>
Тут я могу рекомендовать чуть ли не каждое второе видео. Есть и обзор железок, и какие-то материалы с теорией, и туториалы по различным selfhosted сервисам, и <a href="https://www.youtube.com/watch?v=MpaAu3HVDYE" rel="nofollow noreferer noopener" target="_blank">обзорные видео</a> по домашним серверам автора, в которых можно подметить какие-то идеи для себя.</p>
</li>
<li>
<p>YouTube канал <a href="https://www.youtube.com/@NetworkChuck/videos" rel="nofollow noreferer noopener" target="_blank">NetworkChuck</a><br>
На этом канале поменьше полезных видео (на мой взгляд), но зато если такие появляются, я готов их рекомендовать.<br>
Например, видео <a href="https://www.youtube.com/watch?v=bKFMS5C4CG0" rel="nofollow noreferer noopener" target="_blank">про сети в docker</a>. Или <a href="https://www.youtube.com/watch?v=DM65_JyGxCo" rel="nofollow noreferer noopener" target="_blank">про docker-compose</a>. Или целая серия видео про подсети, например вот <a href="https://www.youtube.com/watch?v=tcae4TSSMo8" rel="nofollow noreferer noopener" target="_blank">это</a>, где рассказывается про диапазоны IP адресов, или <a href="https://www.youtube.com/watch?v=mJ_5qeqGOaI" rel="nofollow noreferer noopener" target="_blank">это</a> про создание собственных подсетей.</p>
</li>
<li>
<p>Subreddit <a href="https://www.reddit.com/r/selfhosted/" rel="nofollow noreferer noopener" target="_blank">SelfHosted</a>, где время от времени появляются хорошие посты с рассказами про свой опыт или со ссылками на что-нибудь интересненькое.</p>
</li>
</ul>
<p>Остальное – через поисковики и <a href="https://perplexity.ai/" rel="nofollow noreferer noopener" target="_blank">perplexity.ai</a>.</p>
<p>Чем больше попробуете сделать всякого разного своими руками, тем больше знаний и навыков приобретёте.<br>
Главное – не бойтесь экспериментировать, не бойтесь что-то сломать (не физически, а внутри ОС 🙂). Это только ваш сервер, и он создан для обучения. Если что-то пошло не так, всегда можно отформатировать жёсткий диск и начать всё с нуля.<br>
Когда начинать заново надоест, вы придёте к желанию автоматизировать настройку системы и развёртывание приложений. И это тоже отдельная большая тема, достойная изучения.</p>
<p>И лишь когда захочеся разделить стабильно работающий с нужными приложениями сервер и сервер для экспериментов, тогда можно будет задуматься о втором компьютере в вашей домашней лаборатории.</p>
<p>Долгое время я обходился одной Raspberry Pi, затем приобрёл вторую.<br>
Сейчас в мой homelab входят:</p>
<ul>
<li>
<p>2 x Raspberry Pi 4B, 8GB RAM</p>
</li>
<li>
<p>Неттоп Beelink Mini S12 Pro (Intel N100, RAM 16 ГБ, SSD 500 ГБ)<br>
Я установил на него гипервизор <a href="https://www.proxmox.com/" rel="nofollow noreferer noopener" target="_blank">Proxmox</a> и разбил на две виртуалки для разных нужд, где требуется жесткий диск (а не флешка, как на RPi) и/или x86_64 процессор, а не arm. В основном это Gitea, всякие СУБД и в планах система для мониторинга и сбора метрик.</p>
</li>
<li>
<p>Коммутатор MIKROTIK RB260GS<br>
Если по началу сетевых разъёмов на роутере хватит, то с ростом количества устройств потребуется дополнительное сетевое оборудование. Сейчас немного жалею, что взял такой маленький коммутатор, уже занял все слоты.</p>
</li>
<li>
<p>Сетевое хранилище (NAS) Synology DS220+ и диск Western Digital Red Plus на 4 ТБ<br>
В целом NAS можно собрать и самостоятельно, но мне захотелось чего-то готового.<br>
Synology предоставляет из коробки систему, на которую в пару кликов можно поставить и домашнее облачное хранилище по типу Dropbox, и развернуть облачную платформу для работы с офисными документами, и <a href="https://www.synology.com/ru-ru/dsm/packages" rel="nofollow noreferer noopener" target="_blank">многое другое</a>. А наличие внутри докера позволяет развернуть прям на этом же сервере что угодно из списка selfhosted приложений.<br>
На этой машинке я развернул Jellyfin и linkding, чтобы в случае переезда по началу можно было подключить только NAS и получить доступ к самому необходимому.</p>
</li>
<li>
<p>Источник бесперебойного питания Ippon Back Power Pro II Euro 850<br>
В моих краях бывают проблемы с электричеством. Помимо защиты устройств от просадок или скачков напряжения, в случае отключения света этот ИБП может поддерживать работу всех моих устройств в течение нескольких часов.</p>
</li>
</ul>
<p>В целом такого запаса вычислительных мощностей для домашних нужд хватит на долгое время. Больше половины сервисов у меня до сих пор развёрнуто на одной Raspberry Pi.</p>
<p>А выглядит всё это вот так:
<img alt="Моя &#x22;серверная&#x22;"  src="/_astro/04-2-my-homelab.2605486d_1L9Y5k.webp" width="1280" height="959" loading="lazy" decoding="async"></p>
<p>Никаких серверных стоек и прочего гламура. Просто кучка железяк у стены в кладовке 🙂.</p>
<p>На этом обзор, думаю, можно закончить. В следующей статье на эту тему я расскажу про свой подход к автоматизации деплоя приложений в docker контейнерах с помощью Ansible.</p>
<p>Если у кого-то тоже есть домашний сервер – поделитесь в комментариях на каком железе и что вы у себя развернули.</p> </article> <div class="mt-8 border-t border-header-blue/80"> <div class="mt-4"></div> <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-discussion="SystemOutBlog" data-comments-limit="30" data-colorful="1" data-color="445D7B">
        </script> </div>  </section> <button id="toTopBtn" title="Наверх" class="fixed bottom-4 right-5 z-40 hidden
        rounded-full border-2 border-sidebar-main/50 p-2.5 text-header-blue/70 shadow-md
        transition duration-150 ease-in-out
        hover:text-header-blue hover:shadow-lg active:border-sidebar-main active:bg-header-blue
        active:text-white sm:bottom-8 sm:right-8
        sm:p-3 xl:bottom-10 xl:right-12"> <svg class="w-[1.125rem] rotate-[270deg] hover:scale-110 sm:w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M7.15 21.1q-.375-.375-.375-.888q0-.512.375-.887L14.475 12l-7.35-7.35q-.35-.35-.35-.875t.375-.9q.375-.375.888-.375q.512 0 .887.375l8.4 8.425q.15.15.213.325q.062.175.062.375t-.062.375q-.063.175-.213.325L8.9 21.125q-.35.35-.862.35q-.513 0-.888-.375Z"></path></svg> </button> <script lang="ts">
    const btn = document.getElementById('toTopBtn');
    btn.addEventListener('click', () => topFunction());

    window.onscroll = function () {
        scrollFunction();
    };

    function scrollFunction() {
        if (
            document.body.scrollTop > 500 ||
            document.documentElement.scrollTop > 500
        ) {
            btn.style.display = 'block';
        } else {
            btn.style.display = 'none';
        }
    }

    function topFunction() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script> </main> </div> </body></html>